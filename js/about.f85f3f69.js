(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"2c64":function(e,t,i){},"2d3b":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"search"}},[i("v-row",[i("v-col",{attrs:{cols:"2",id:"Combo"}},[i("v-list",[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[i("h3",[e._v("欲合併之問卷組合")])])],1)],1),i("v-divider"),i("v-list-item",[i("v-list-item-content",[e._v(" 月齡組: "),i("v-btn-toggle",{attrs:{multiple:"",dense:""},model:{value:e.selectedMonthOld,callback:function(t){e.selectedMonthOld=t},expression:"selectedMonthOld"}},e._l(e.monthOldList,(function(t){return i("v-btn",{key:t.monthOld,attrs:{rounded:"",depressed:"",value:t.value,disabled:e.lockCombo}},[e._v(" "+e._s(t.monthOld)+" ")])})),1)],1)],1),i("v-list-item",[i("v-list-item-content",[e._v(" 問卷類型: "),i("v-btn-toggle",{attrs:{multiple:"",dense:""},model:{value:e.selectedQuestionnaireType,callback:function(t){e.selectedQuestionnaireType=t},expression:"selectedQuestionnaireType"}},e._l(e.questionnaireTypeList,(function(t){return i("v-btn",{key:t.type,attrs:{rounded:"",depressed:"",value:t.value,disabled:e.lockCombo}},[e._v(" "+e._s(t.type)+" ")])})),1)],1)],1),i("v-list-item",[i("v-btn",{attrs:{disabled:e.lockCombo,color:"primary"},on:{click:e.getWaveList}},[e._v(" 搜尋存有波次 ")])],1),i("v-list-item",[i("v-list-item-content",[e._v(" 波次: "),i("v-select",{attrs:{dense:"",items:e.waveList,disabled:e.lockCombo||e.omitConditions,"item-text":"wave",chips:"",label:"請先選擇月齡組以及問卷類型",multiple:"",outlined:""},model:{value:e.selectedWave,callback:function(t){e.selectedWave=t},expression:"selectedWave"}})],1)],1),i("v-list-item",[e.lockCombo?i("v-btn",{attrs:{rounded:""},on:{click:e.unlockCombination}},[e._v("解除綁定")]):i("v-btn",{attrs:{rounded:""},on:{click:e.getColList}},[e._v("綁定")])],1)],1)],1),i("v-divider",{attrs:{vertical:""}}),i("v-col",{attrs:{cols:"10","no-gutters":""}},[i("v-card",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.0)"},attrs:{flat:""}},[e.facetList.length?[i("v-card-title",{staticClass:"font-weight-bold"},[e._v("主構面篩選")]),i("v-chip-group",{attrs:{column:"",multiple:""},model:{value:e.selectedFacet,callback:function(t){e.selectedFacet=t},expression:"selectedFacet"}},e._l(e.facetList,(function(t){return i("v-chip",{key:t,attrs:{value:t,filter:"",outlined:""}},[e._v(" "+e._s(t)+" ")])})),1)]:e._e(),i("v-card-title",[i("span",{staticClass:"font-weight-bold"},[e._v("搜尋結果")]),i("v-spacer"),i("v-text-field",{attrs:{"prepend-inner-icon":"mdi-magnify",label:"請輸入問題編碼、問題敘述或次構面","single-line":"","hide-details":""},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}}),i("v-btn",{attrs:{rounded:"",depressed:"",outlined:"",color:"grey darken-3"},on:{click:e.StoreProblem}},[i("v-icon",{attrs:{dense:""}},[e._v("mdi-plus-thick")]),e._v(" 加入我的資料 ")],1)],1),i("v-card-text",[e._v("顯示"+e._s(e.numberOfRows)+"筆")]),i("v-data-table",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.4)"},attrs:{headers:e.header,search:e.searchKeyword,items:e.facetMenu,"items-per-page":5,"item-key":"pid","show-select":""},on:{pagination:e.CalculateNumberOfRows},scopedSlots:e._u([{key:"item.typeAction",fn:function(t){var o=t.item;return[i("v-select",{attrs:{items:o.exist,"item-text":"type"},model:{value:e.tableType[o.index],callback:function(t){e.$set(e.tableType,o.index,t)},expression:"tableType[item.index]"}})]}},{key:"item.waveAction",fn:function(t){var o=t.item;return[i("div",[i("label",[e._v("小月齡組:")]),e._l(e.TableWave(o.index)[0].young,(function(t){return i("span",{key:t},[e._v(" "+e._s(t)+" ")])}))],2),i("div",[i("label",[e._v("大月齡組: ")]),e._l(e.TableWave(o.index)[0].old,(function(t){return i("span",{key:t},[e._v(" "+e._s(t)+" ")])}))],2)]}}]),model:{value:e.selectedCol,callback:function(t){e.selectedCol=t},expression:"selectedCol"}})],2)],1)],1)],1)},a=[],s=(i("4de4"),i("c740"),i("bc3a")),n=i.n(s),l={name:"search",data:function(){return{monthOldList:[{monthOld:"小/3月齡組",value:1},{monthOld:"大/36月齡組",value:2}],questionnaireTypeList:[{type:"家長",value:2},{type:"親友",value:3},{type:"教保/教師",value:1}],waveList:[],facetList:[],searchResult:[],omitConditions:!0,lockCombo:!1,selectedFacet:[],selectedMonthOld:[],selectedQuestionnaireType:[],selectedWave:[],selectedCol:[],problemsForStore:[],shopcart:[],searchKeyword:"",showWave:!1,numberOfRows:[],tableType:["none"],header:[{text:"問題編碼",align:"center",value:"problem_id"},{text:"問題敘述",align:"center",value:"topic"},{text:"主構面",align:"center",value:"class",filterable:!1},{text:"次構面",align:"center",value:"subclass"},{text:"存有類型",value:"typeAction"},{text:"存有波次",value:"waveAction",sortable:!1}],color:"#673AB7",addBtnTTip:!1,dialogUnlock:!1,checkArray:[],unsaveProblem:!1,drawer:!1}},computed:{facetMenu:function(){var e=this;return this.selectedFacet.length>0?this.searchResult.filter((function(t){return-1!==e.selectedFacet.indexOf(t.class)})):this.searchResult}},watch:{selectedMonthOld:function(){if(this.selectedMonthOld.length>1&&this.selectedQuestionnaireType.length>1){this.showWarning("跨問卷類型僅限同月齡組！");var e=this.selectedMonthOld[this.selectedMonthOld.length-1];this.selectedMonthOld=[],this.selectedMonthOld.push(e)}this.omitConditions||(this.omitConditions=!0,this.waveList=[],this.selectedWave=[])},selectedQuestionnaireType:function(){if(this.selectedMonthOld.length>1&&this.selectedQuestionnaireType.length>1){this.showWarning("跨月齡組僅限同問卷類型!");var e=this.selectedQuestionnaireType[this.selectedQuestionnaireType.length-1];this.selectedQuestionnaireType=[],this.selectedQuestionnaireType.push(e)}this.omitConditions||(this.omitConditions=!0,this.waveList=[],this.selectedWave=[])},selectedWave:function(){if(this.selectedWave.length>1){if(this.selectedMonthOld.length>1){this.showWarning("跨月齡組僅限同波次!");var e=this.selectedWave[this.selectedWave.length-1];this.selectedWave=[],this.selectedWave.push(e)}if(this.selectedQuestionnaireType.length>1){this.showWarning("跨問卷類型僅限同波次!");var t=this.selectedWave[this.selectedWave.length-1];this.selectedWave=[],this.selectedWave.push(t)}}},selectedCol:function(){var e=this;this.selectedCol.length!==this.shopcart.length?this.unsaveProblem=!0:0===this.shopcart.length&&0===this.selectedCol.length?this.unsaveProblem=!1:(this.checkArray=this.selectedCol.filter((function(t){return-1!==e.shopcart.findIndex((function(i){return i.problem_id===t.pid&&e.arrayEquality(i.survey_id,t.survey_id)}))})),this.unsaveProblem=this.checkArray.length!==this.shopcart.length)}},methods:{CalculateNumberOfRows:function(e){this.numberOfRows=e.itemsLength},showWarning:function(e){this.$swal({title:e,text:"2秒後自動關閉。",icon:"warning",timer:2e3}).then((function(e){}))},getWaveList:function(){var e=this;this.selectedMonthOld.length&&this.selectedQuestionnaireType.length?(this.omitConditions=!1,n.a.get("/api/searchApp/searchWave",{params:{ageType:this.selectedMonthOld,surveyType:this.selectedQuestionnaireType}}).then((function(t){e.waveList=t.data.data.wave,e.selectedWave=[]}))):this.$swal({title:"請選擇月齡組及問卷類型",icon:"warning"})},getColList:function(){this.selectedWave.length?(n.a.post("/api/searchApp/storeCombo",{info:{age_type:this.selectedMonthOld,survey_type:this.selectedQuestionnaireType,wave:this.selectedWave}}),this.getSearchProblem()):this.$swal({title:"選項不能為空!",text:"請檢查所有選項",icon:"warning"})},getSearchProblem:function(){var e=this;n.a.get("/api/searchApp/searchProblem").then((function(t){e.searchResult=t.data.data.info,e.setSearchProblem()}))},setSearchProblem:function(){for(var e=0;e<this.searchResult.length;e++){var t=this.searchResult[e].class;this.facetList.length&&-1!==this.facetList.indexOf(t)||this.facetList.push(t);for(var i=0;i<this.searchResult[e].exist.length;i++)"parent"===this.searchResult[e].exist[i].type?this.searchResult[e].exist[i].type="家長":"relative"===this.searchResult[e].exist[i].type?this.searchResult[e].exist[i].type="親友":"teacher"===this.searchResult[e].exist[i].type&&(this.searchResult[e].exist[i].type="教保/教師");this.tableType[e]=this.searchResult[e].exist[0].type,this.searchResult[e].index=e}this.lockCombo=!0,this.showWave=!0},unlockCombination:function(){var e=this;this.$swal({title:"確定解除綁定嗎",text:"解除綁定將會清空我的資料!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"取消",confirmButtonText:"解除綁定！"}).then((function(t){t.value&&(e.$swal("解除綁定！","我的資料已被清空","success"),e.lockCombo=!1,n.a.delete("/api/searchApp/delCombo"),n.a.delete("/api/searchApp/delProblem"),e.omitConditions=!0,e.selectedWave=[],e.selectedFacet=[],e.waveList=[],e.searchResult=[],e.facetList=[],e.selectedCol=[],e.unsaveProblem=!1)}))},TableWave:function(e){var t=this;return this.searchResult[e].exist.filter((function(i){var o=t.tableType[e].toLowerCase(),a=i.type.toLowerCase();return o===a}))},StoreProblem:function(){if(this.selectedCol.length){this.problemsForStore=[];for(var e=0;e<this.selectedCol.length;e++){var t={problem_id:this.selectedCol[e].pid,survey_id:this.selectedCol[e].survey_id};this.problemsForStore.push(t)}n.a.post("/api/searchApp/storeProblem",{problemList:this.problemsForStore}),this.$swal({title:"已成功加入我的資料!",icon:"success"}),this.shopcart=this.problemsForStore,this.unsaveProblem=!1}else this.$swal({title:"請選取資料",icon:"warning"})},arrayEquality:function(e,t){for(var i=0;i<e.length;i++)if(-1===e.indexOf(t[i]))return!1;return!0},preventNav:function(e){this.unsaveProblem&&(e.preventDefault(),e.returnValue="")}},beforeMount:function(){var e=this;window.addEventListener("beforeunload",this.preventNav),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("beforeunload",e.preventNav)}))},beforeRouteLeave:function(e,t,i){this.unsaveProblem&&!window.confirm("資料尚未加入我的資料，請問是否離開頁面")||i()},mounted:function(){var e=this;n.a.get("/api/searchApp/getCombo").then((function(t){e.selectedMonthOld=t.data.data.info.age_type,e.selectedQuestionnaireType=t.data.data.info.survey_type,e.waveList=t.data.data.info.wave,e.selectedWave=t.data.data.info.wave,(e.selectedMonthOld.length||e.selectedQuestionnaireType.length||e.selectedWave.length)&&n.a.get("/api/searchApp/searchProblem").then((function(t){e.searchResult=t.data.data.info,e.setSearchProblem(),n.a.get("/api/searchApp/getProblem").then((function(t){e.shopcart=t.data.data.problemList,e.shopcart.length&&(e.selectedCol=e.searchResult.filter((function(t){return-1!==e.shopcart.findIndex((function(e){return e.problem_id===t.pid}))})))}))}))}))}},r=l,c=(i("954c"),i("2877")),d=i("6544"),u=i.n(d),h=i("8336"),p=i("a609"),v=i("b0af"),m=i("99d9"),f=i("cc20"),b=i("5530"),g=(i("8f5a"),i("7efd")),x=i("a9ad"),y=i("58df"),w=Object(y["a"])(g["a"],x["a"]).extend({name:"v-chip-group",provide:function(){return{chipGroup:this}},props:{column:Boolean},computed:{classes:function(){return Object(b["a"])(Object(b["a"])({},g["a"].options.computed.classes.call(this)),{},{"v-chip-group":!0,"v-chip-group--column":this.column})}},watch:{column:function(e){e&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData:function(){return this.setTextColor(this.color,Object(b["a"])({},g["a"].options.methods.genData.call(this)))}}}),C=i("62ad"),_=i("8fea"),L=i("ce7e"),k=i("132d"),S=i("8860"),O=i("da13"),T=i("5d23"),A=i("0fd9"),D=i("b974"),V=i("2fa4"),I=i("8654"),R=Object(c["a"])(r,o,a,!1,null,"66b1ee00",null);t["default"]=R.exports;u()(R,{VBtn:h["a"],VBtnToggle:p["a"],VCard:v["a"],VCardText:m["c"],VCardTitle:m["d"],VChip:f["a"],VChipGroup:w,VCol:C["a"],VDataTable:_["a"],VDivider:L["a"],VIcon:k["a"],VList:S["a"],VListItem:O["a"],VListItemContent:T["a"],VListItemTitle:T["b"],VRow:A["a"],VSelect:D["a"],VSpacer:V["a"],VTextField:I["a"]})},"32a6":function(e,t,i){e.exports=i.p+"img/leftJoin.e245ed96.png"},"3d86":function(e,t,i){},"439b":function(e,t,i){},"59ce":function(e,t,i){e.exports=i.p+"img/innerJoin.cfe581b7.png"},"8f5a":function(e,t,i){},"954c":function(e,t,i){"use strict";i("439b")},a3e7:function(e,t,i){e.exports=i.p+"img/outerJoin.1bc16aad.png"},d93c:function(e,t,i){e.exports=i.p+"img/union.c3ac043d.png"},e5b0:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"shopcart"}},[o("v-row",[o("v-col",{attrs:{cols:"10"}},[o("v-card",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.0)"},attrs:{flat:""}},[o("v-card-title",{staticClass:"font-weight-bold"},[e._v("我的資料")]),o("v-data-table",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.0)"},attrs:{headers:e.header,items:e.problemList,"items-per-page":5,"item-key":"pid","sort-by":"pid"},scopedSlots:e._u([{key:"header.delAction",fn:function(){return[o("v-icon",{on:{click:e.delete_all}},[e._v(" mdi-delete ")])]},proxy:!0},{key:"item.delAction",fn:function(t){var i=t.item;return[o("v-icon",{on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"item.typeAction",fn:function(t){var i=t.item;return[o("v-select",{attrs:{items:i.exist,"item-text":"type"},model:{value:e.tableType[i.index],callback:function(t){e.$set(e.tableType,i.index,t)},expression:"tableType[item.index]"}})]}},{key:"item.waveAction",fn:function(t){var i=t.item;return[o("div",[o("label",[e._v("小月齡組:")]),e._l(e.TableWave(i.index)[0].young,(function(t){return o("span",{key:t},[e._v(" "+e._s(t)+" ")])}))],2),o("div",[o("label",[e._v("大月齡組: ")]),e._l(e.TableWave(i.index)[0].old,(function(t){return o("span",{key:t},[e._v(" "+e._s(t)+" ")])}))],2)]}}])}),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[o("v-card",{staticClass:"elevation-8"},[o("v-container",{attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center"}},[e.deleteAll?o("v-card-title",{staticClass:"text-h5"},[e._v("確定要刪除所有變項?")]):o("v-card-title",{staticClass:"text-h5"},[e._v("確定要刪除此變項?")])],1),o("v-row",{staticClass:"mt-5 mb-2",attrs:{justify:"center"}},[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("取消")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("確認")]),o("v-spacer")],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"500px",scrollable:"",persistent:""},model:{value:e.waveDialog,callback:function(t){e.waveDialog=t},expression:"waveDialog"}},[o("v-card",{staticClass:"elevation-8"},[o("v-container",{attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center"}},[o("v-card-title",{staticClass:"text-h5"},[e._v("請選擇波次")])],1),o("v-divider"),o("v-select",{attrs:{items:e.waveList},model:{value:e.waveSelect,callback:function(t){e.waveSelect=t},expression:"waveSelect"}}),o("v-divider"),o("v-row",{staticClass:"mt-5 mb-2",attrs:{justify:"center"}},[o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeWaveDialog}},[e._v("取消")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.waveConfirm}},[e._v("確認")]),o("v-spacer")],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"650px"},model:{value:e.innerJoin,callback:function(t){e.innerJoin=t},expression:"innerJoin"}},[o("v-card",[o("v-container",[o("v-row",{attrs:{justify:"center"}},[o("v-card-title",[e._v(" Inner Join ")])],1),o("v-row",[o("v-card-text",[e._v(" 匯出資料檔中的樣本，為勾選的資料檔的每一個波次皆完訪的樣本（亦即全勤樣本）。輸出資料格式為一個樣本一列，變項往右展開（wide format）。 ")])],1),o("img",{staticStyle:{width:"600px"},attrs:{src:i("59ce")}})],1)],1)],1),o("v-dialog",{attrs:{"max-width":"650px"},model:{value:e.outerJoin,callback:function(t){e.outerJoin=t},expression:"outerJoin"}},[o("v-card",[o("v-container",[o("v-row",{attrs:{justify:"center"}},[o("v-card-title",[e._v(" Outer Join ")])],1),o("v-row",[o("v-card-text",[e._v(" 匯出資料檔中的樣本，為勾選的資料檔的任何一個波次曾經完訪的樣本。輸出資料格式為一個樣本一列，變項往右展開（wide format）。 ")])],1),o("img",{staticStyle:{width:"600px"},attrs:{src:i("a3e7")}})],1)],1)],1),o("v-dialog",{attrs:{"max-width":"650px"},model:{value:e.unionJoin,callback:function(t){e.unionJoin=t},expression:"unionJoin"}},[o("v-card",[o("v-container",[o("v-row",{attrs:{justify:"center"}},[o("v-card-title",[e._v(" Union ")])],1),o("v-row",[o("v-card-text",[e._v(" 匯出資料檔中的樣本，為勾選的資料檔的任何一個波次曾經完訪的樣本。輸出資料格式為一個樣本會有一列以上，每一個變項只會往右列出一次，波次則是往下展開（long format） 。 ")])],1),o("img",{staticStyle:{width:"300px"},attrs:{src:i("d93c")}})],1)],1)],1),o("v-dialog",{attrs:{"max-width":"650px"},model:{value:e.leftJoin,callback:function(t){e.leftJoin=t},expression:"leftJoin"}},[o("v-card",[o("v-container",[o("v-row",{attrs:{justify:"center"}},[o("v-card-title",[e._v(" Left Join ")])],1),o("v-row",[o("v-card-text",[e._v(" 匯出資料檔中的樣本，為勾選的資料檔的第一個波次曾經完訪的樣本。輸出資料格式為一個樣本一列，變項往右展開（wide format）。 ")])],1),o("img",{staticStyle:{width:"600px"},attrs:{src:i("32a6")}})],1)],1)],1)],1)],1),o("v-divider",{attrs:{vertical:""}}),o("v-col",{attrs:{cols:"2"}},[o("v-list",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.0)"},attrs:{dense:""}},[o("v-list-item",[o("v-select",{attrs:{items:e.OptionJoin,"item-value":"value",label:"合併方式"},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.item;return[o("v-row",[o("v-col",{attrs:{justify:"start"}},[e._v(e._s(i.method))])],1)]}},{key:"item",fn:function(t){var i=t.item;return[o("v-row",[o("v-col",{attrs:{justify:"start"}},[e._v(e._s(i.method))]),o("v-col",{attrs:{justify:"end",md:"1"}})],1)]}}]),model:{value:e.exportContent.mergeMethod,callback:function(t){e.$set(e.exportContent,"mergeMethod",t)},expression:"exportContent.mergeMethod"}})],1),o("v-list-item",[o("v-radio-group",{attrs:{column:"",label:"匯出方式"},model:{value:e.exportContent.fileFormat,callback:function(t){e.$set(e.exportContent,"fileFormat",t)},expression:"exportContent.fileFormat"}},e._l(e.OptionExport,(function(e){return o("v-radio",{key:e,attrs:{label:e,value:e}})})),1)],1),o("v-list-item",[o("v-list-item-content",[o("v-btn",{attrs:{dark:"",color:"primary",disabled:e.exportDialog},on:{click:e.exportFile}},[e._v("匯出")])],1)],1),o("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"400"},model:{value:e.exportDialog,callback:function(t){e.exportDialog=t},expression:"exportDialog"}},[o("v-card",{staticClass:"elevation-8 pb-3"},[o("v-container",{attrs:{fluid:""}},[o("v-row",{attrs:{justify:"center"}},[o("h2",{staticClass:"mt-5"},[e._v(" 正在合併資料，請勿跳轉頁面 ")])]),o("v-row",{staticClass:"mt-5 mb-2",attrs:{justify:"center"}},[o("v-progress-circular",{attrs:{indeterminate:"",color:"secondary",size:36}})],1)],1)],1)],1)],1)],1)],1)],1)},a=[],s=(i("a434"),i("4de4"),i("c740"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("bc3a")),n=i.n(s),l={name:"search",data:function(){return{waveSelect:"",shopcart:[],select:!1,deleteAll:!1,header:[{text:"",value:"delAction",sortable:!1},{text:"問題編碼",align:"center",value:"problem_id"},{text:"問題敘述",align:"center",value:"topic"},{text:"主構面",align:"center",value:"class",filterable:!1},{text:"次構面",align:"center",value:"subclass"},{text:"存有類型",value:"typeAction"},{text:"存有波次",value:"waveAction",sortable:!1}],tableType:[],waveList:[],dialogDelete:!1,waveDialog:!1,editedIndex:-1,editedItem:{},exportContent:{mergeMethod:"",fileFormat:""},OptionJoin:[{method:"Inner Join",value:"inner",icon:"mdi-set-center",text:'交集，資料為"橫著併"'},{method:"Outer Join",value:"outer",icon:"mdi-set-all",text:'聯集，資料為"橫著併"，若有闕漏者補空白'},{method:"Union",value:"union",icon:"mdi-set-all",text:'聯集，資料為"直著併"，闕漏者不補空白'},{method:"Left Join",value:"left",icon:"mdi-set-all",text:"資料向選定對齊，其餘省略"}],OptionExport:["CSV","SAV"],innerJoin:!1,outerJoin:!1,unionJoin:!1,leftJoin:!1,searchResult:[],problemList:[],facetList:[],problemsForStore:[],exportDialog:!1}},watch:{dialogDelete:function(e){e||this.closeDelete()},"exportContent.mergeMethod":function(){"left"===this.exportContent.mergeMethod?(this.leftJoin=!0,this.waveDialog=!0):"inner"===this.exportContent.mergeMethod?this.innerJoin=!0:"outer"===this.exportContent.mergeMethod?this.outerJoin=!0:"union"===this.exportContent.mergeMethod&&(this.unionJoin=!0)}},methods:{deleteItem:function(e){this.editedIndex=this.problemList.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){if(this.deleteAll)this.problemList=[];else{this.problemList.splice(this.editedIndex,1);for(var e=this.editedIndex;e<this.problemList.length;e++)this.problemList[e].index--;this.problemList.length?(this.changeApiFormat(),n.a.post("/api/searchApp/storeProblem",{problemList:this.problemsForStore})):n.a.delete("/api/searchApp/delProblem")}this.closeDelete()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.deleteAll=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},delete_all:function(){this.deleteAll=!0,this.dialogDelete=!0,n.a.delete("/api/searchApp/delProblem")},TableWave:function(e){var t=this;return this.problemList[e].exist.filter((function(i){var o=t.tableType[e].toLowerCase(),a=i.type.toLowerCase();return o===a}))},getSearchProblem:function(){var e=this;n.a.get("/api/searchApp/searchProblem").then((function(t){e.searchResult=t.data.data.info,e.problemList=e.searchResult.filter((function(t){return-1!==e.shopcart.findIndex((function(e){return e.problem_id===t.pid}))})),e.waveList=e.problemList[0].exist[0].young,0===e.waveList.length&&(e.waveList=e.problemList[0].exist[0].old);for(var i=0;i<e.problemList.length;i++){for(var o=0;o<e.problemList[i].exist.length;o++)"parent"===e.problemList[i].exist[o].type?e.problemList[i].exist[o].type="家長":"relative"===e.problemList[i].exist[o].type?e.problemList[i].exist[o].type="親友":"teacher"===e.problemList[i].exist[o].type&&(e.problemList[i].exist[o].type="教保/教師");e.problemList[i].index=i,e.tableType[i]=e.problemList[i].exist[0].type}}))},closeWaveDialog:function(){this.waveSelect="",this.exportContent.mergeMethod="",this.waveDialog=!1},waveConfirm:function(){if(""===this.waveSelect)return this.$swal({title:"請選擇波次",icon:"warning"}),void(this.exportContent.mergeMethod="");this.waveDialog=!1},exportApi:function(){var e=this;n()({url:"/api/fileApp/export",method:"GET",responseType:"blob",params:{mergeMethod:this.exportContent.mergeMethod,fileFormat:this.exportContent.fileFormat.toLowerCase(),wave:this.waveSelect}}).then((function(t){var i=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=i,"CSV"===e.exportContent.fileFormat?o.setAttribute("download","output.zip"):o.setAttribute("download","output.sav"),document.body.appendChild(o),o.click(),e.exportDialog=!1}))},exportFile:function(){this.problemList.length?""!==this.exportContent.mergeMethod&&""!==this.exportContent.fileFormat?"left"!==this.exportContent.mergeMethod||""!==this.waveSelect?(this.exportDialog=!0,this.exportApi()):this.$swal({title:"請選擇合併主要波次",icon:"warning"}):this.$swal({title:"請選擇合併方式及匯出檔案格式",icon:"warning"}):this.$swal({title:"我的資料是空的，請選取資料",icon:"warning"})},changeApiFormat:function(){this.problemsForStore=[];for(var e=0;e<this.problemList.length;e++){var t={problem_id:this.problemList[e].pid,survey_id:this.problemList[e].survey_id};this.problemsForStore.push(t)}}},mounted:function(){var e=this;n.a.get("/api/searchApp/getProblem").then((function(t){e.shopcart=t.data.data.problemList,e.shopcart.length&&e.getSearchProblem()}))}},r=l,c=i("2877"),d=i("6544"),u=i.n(d),h=i("8336"),p=i("b0af"),v=i("99d9"),m=i("62ad"),f=i("a523"),b=i("8fea"),g=i("169a"),x=i("ce7e"),y=i("132d"),w=i("8860"),C=i("da13"),_=i("5d23"),L=i("490a"),k=i("15fd"),S=i("5530"),O=(i("b0c0"),i("2c64"),i("ba87")),T=i("9d26"),A=i("c37a"),D=i("7e2b"),V=i("a9ad"),I=i("4e82"),R=i("5311"),W=i("7560"),M=i("fe09"),j=i("80d2"),F=i("58df"),J=i("d9f7"),$=["title"],P=Object(F["a"])(D["a"],V["a"],R["a"],Object(I["a"])("radioGroup"),W["a"]),B=P.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(S["a"])(Object(S["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return M["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return A["a"].options.computed.computedId.call(this)},hasLabel:A["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return M["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return M["a"].options.methods.genInput.call(this,"radio",e)},genLabel:function(){return this.hasLabel?this.$createElement(O["a"],{on:{click:M["b"]},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(j["r"])(this,"label")||this.label):null},genRadio:function(){var e=this.attrs$,t=(e.title,Object(k["a"])(e,$));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(T["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(S["a"])({name:this.computedName,value:this.value},t)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){var t={staticClass:"v-radio",class:this.classes,on:Object(J["c"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return e("div",t,[this.genRadio(),this.genLabel()])}}),G=(i("a9e3"),i("ec29"),i("3d86"),i("604c")),Q=i("8547"),E=Object(F["a"])(Q["a"],G["a"],A["a"]),N=E.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(S["a"])(Object(S["a"])({},A["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},A["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=A["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var e=A["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:G["a"].options.methods.onClick}}),K=i("0fd9"),U=i("b974"),q=i("2fa4"),z=Object(c["a"])(r,o,a,!1,null,null,null);t["default"]=z.exports;u()(z,{VBtn:h["a"],VCard:p["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VCol:m["a"],VContainer:f["a"],VDataTable:b["a"],VDialog:g["a"],VDivider:x["a"],VIcon:y["a"],VList:w["a"],VListItem:C["a"],VListItemContent:_["a"],VProgressCircular:L["a"],VRadio:B,VRadioGroup:N,VRow:K["a"],VSelect:U["a"],VSpacer:q["a"]})},f820:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"about"},[i("h1",[e._v("This is an about page")])])}],s=i("2877"),n={},l=Object(s["a"])(n,o,a,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=about.f85f3f69.js.map